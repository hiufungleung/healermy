# =============================================================================
# healerMy Environment Configuration
# =============================================================================
# Copy this file to:
#   - .env.local (for local development)
#   - .env (for Docker deployment)
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION URLS
# -----------------------------------------------------------------------------

# Application timezone (IANA timezone identifier)
# Example: Australia/Brisbane, America/New_York, Europe/London
NEXT_PUBLIC_APP_TIMEZONE=Australia/Brisbane

# Your public application URL
# Production: https://healermy.yourdomain.com
# Local Dev:  http://localhost:3000
NEXT_PUBLIC_BASE_URL=http://localhost:3000
BASE_URL=http://localhost:3000

# FHIR server endpoint URL
FHIR_SERVER_URL=https://your-fhir-server.com
# -----------------------------------------------------------------------------
# APPLICATION CONFIGURATION
# -----------------------------------------------------------------------------

# Access type: "online" (session-only) or "offline" (with refresh token)
ACCESS_TYPE=offline

# Session expiry: s(seconds), m(minutes), h(hours), d(days), y(years)
# Examples: 30m, 2h, 7d, 90d, 1y
SESSION_EXPIRY=90d

# Token refresh buffer in seconds (refresh when token expires in this many seconds)
# Default: 300 (5 minutes)
TOKEN_REFRESH_BUFFER_SECONDS=300


# -----------------------------------------------------------------------------
# SMART ON FHIR CREDENTIALS (REQUIRED)
# -----------------------------------------------------------------------------

# Client ID from your FHIR app registration
CLIENT_ID=your-client-id-here

# Client Secret from your FHIR app registration
CLIENT_SECRET=your-client-secret-here

# -----------------------------------------------------------------------------
# FHIR PERMISSION SCOPES
# -----------------------------------------------------------------------------

# Patient scopes
PATIENT_SCOPE_ONLINE="launch/encounter launch/patient openid profile online_access launch fhirUser user/*.* patient/*.*"
PATIENT_SCOPE_OFFLINE="launch/encounter launch/patient openid profile offline_access launch fhirUser user/*.* patient/*.*"

# Provider scopes
PROVIDER_SCOPE_ONLINE="launch/encounter launch/patient openid profile online_access launch fhirUser user/*.* patient/*.*"
PROVIDER_SCOPE_OFFLINE="launch/encounter launch/patient openid profile offline_access launch fhirUser user/*.* patient/*.*"

# -----------------------------------------------------------------------------
# SESSION SECURITY (REQUIRED)
# -----------------------------------------------------------------------------

# Cookie name (change only if you have conflicts)
TOKEN_COOKIE_NAME=healermy_tokens

# Generate SESSION_SECRET with: openssl rand -hex 32
# Generate SESSION_SALT with: openssl rand -hex 16

# Session encryption secret (32 bytes hex)
# SESSION_SECRET=your-generated-session-secret-here

# Session encryption salt (16 bytes hex)
# SESSION_SALT=your-generated-session-salt-here
